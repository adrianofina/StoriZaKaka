{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Discover - Stori za Kaka</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="{% static 'css/discover.css' %}">
</head>
<body>
  <div class="container">
    <!-- Header Section -->
    <div class="header">
      <button class="back-button" onclick="goHome()">
        <i class="fas fa-arrow-left"></i>
        <span>Home</span>
      </button>
      <h1>Discover</h1>
      <p>Browse trending content and get personalized recommendations based on your mood</p>
    </div>

    <!-- Mood Selector -->
    <div class="mood-selector">
      <h2><i class="fas fa-heart"></i> Select Your Moods</h2>
      <div class="mood-grid">
        <div class="mood-option" data-mood="comedy">
          <i class="mood-icon fas fa-laugh-beam"></i>
          <div class="mood-name">Happy</div>
          <div class="mood-description">Feel-good comedies</div>
        </div>
        <div class="mood-option" data-mood="drama">
          <i class="mood-icon fas fa-sad-tear"></i>
          <div class="mood-name">Emotional</div>
          <div class="mood-description">Deep dramas</div>
        </div>
        <div class="mood-option" data-mood="action">
          <i class="mood-icon fas fa-bolt"></i>
          <div class="mood-name">Excited</div>
          <div class="mood-description">Action-packed</div>
        </div>
        <div class="mood-option" data-mood="romance">
          <i class="mood-icon fas fa-heart"></i>
          <div class="mood-name">Romantic</div>
          <div class="mood-description">Love stories</div>
        </div>
        <div class="mood-option" data-mood="adventure">
          <i class="mood-icon fas fa-mountain"></i>
          <div class="mood-name">Adventurous</div>
          <div class="mood-description">Epic journeys</div>
        </div>
        <div class="mood-option" data-mood="thriller">
          <i class="mood-icon fas fa-brain"></i>
          <div class="mood-name">Thoughtful</div>
          <div class="mood-description">Mind-bending</div>
        </div>
        <div class="mood-option" data-mood="family">
          <i class="mood-icon fas fa-history"></i>
          <div class="mood-name">Nostalgic</div>
          <div class="mood-description">Family classics</div>
        </div>
        <div class="mood-option" data-mood="horror">
          <i class="mood-icon fas fa-ghost"></i>
          <div class="mood-name">Thrilled</div>
          <div class="mood-description">Horror & suspense</div>
        </div>
      </div>
      <button class="get-recommendations" id="getRecommendations" disabled>
        <i class="fas fa-magic"></i> Get My Recommendations
      </button>
    </div>

    <!-- Curated For You Section -->
    <section class="curated-section hidden" id="curatedSection">
      <div class="curated-header">
        <h2 class="section-title"><i class="fas fa-star"></i> Curated For You</h2>
        <button class="refresh-btn" id="refreshCurated">
          <i class="fas fa-sync-alt"></i> Refresh
        </button>
      </div>
      <div class="media-grid" id="curatedGrid">
        <!-- Content will be loaded here -->
      </div>
    </section>

    <!-- Movies Section -->
    <section class="trending-section">
      <h2 class="section-title">Trending Movies</h2>
      <div class="media-grid" id="moviesGrid">
        <!-- Skeleton Loaders -->
        {% for i in "123456"|make_list %}
        <div class="skeleton-card">
          <div class="skeleton-poster"></div>
          <div class="skeleton-title"></div>
          <div class="skeleton-meta"></div>
        </div>
        {% endfor %}
      </div>
      <div class="loading-indicator hidden">
        <div class="spinner"></div>
        <p>Loading more movies...</p>
      </div>
    </section>

    <!-- TV Shows Section -->
    <section class="trending-section">
      <h2 class="section-title">Trending TV Shows</h2>
      <div class="media-grid" id="tvGrid">
        <!-- Skeleton Loaders -->
        {% for i in "123456"|make_list %}
        <div class="skeleton-card">
          <div class="skeleton-poster"></div>
          <div class="skeleton-title"></div>
          <div class="skeleton-meta"></div>
        </div>
        {% endfor %}
      </div>
      <div class="loading-indicator hidden">
        <div class="spinner"></div>
        <p>Loading more TV shows...</p>
      </div>
    </section>

    <!-- Error State -->
    <div class="error-state hidden">
      <i class="fas fa-exclamation-triangle"></i>
      <p>Failed to load content</p>
      <button class="retry-btn">Retry</button>
    </div>
  </div>

  <script src="{% static 'js/discover.js' %}"></script>
</body>
</html>